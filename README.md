smart-backuper

Если вы хотите хранить все свои файлы директории или целого диска в актуальном состоянии в виде бэкапа не создавая уйму бэкапов − smart backuper решит эту проблему. 
Немного подробнее. Данная программа поможет создать бэкап и точечно обновлять, добавлять, получать и удалять файлы в бэкапе. 
При распаковке данного бэкапа в указанную папку будет воссоздана структура файлов и папок с момента последнего обновления бэкапа.
Архив храниться внутри зашифрованного тома Veracrypt защищенного паролем. 
При любой манипуляции с бэкапом нужно указывать путь или имя тома и пароль к нему, после чего том монтируется, осуществляются обновление или другие действия, после чего диск размонтируется (если не указан флаг --open/-o, который не только запретит размонтирование диска ну и откроет диск бэкапа)

<hr>

**Список основных команд:**

--session − Старт сессии

--create − Создать бэкап

--mount − Смонтировать том

--update − Обновить бэкап

--extract − Расспаковать бэкап

--clearn − Очистить бэкап от мусора

--remove − Удаленть бэкап

--dismount – Размонтировать том

--get – Получить файл с бэкапа

--quit − Выйти с программы

--search − Поиск файла в бэкапе


**Основные параметры:**

-n/--name − Имя файла или тома

-v/--volume − Путь к тому бэкапа

-p/--password − Пароль к бэкапу

-d/--directory − Директория для архивации


**Дополните паремерты:**

-b/--blacklist − Файл черного списка

-rl/--recursion_level − Уровень глубины рекурсии при анализе данных бэкапа

-vd/--virtual_drive − Название виртуального диска при монтировании тома

-ve/--verbosity – Более детальное отображение данных (где оно поддерживается)

-fo/--force − Принудительное обновления бэкапа даже если нужно обновить один файл

-to/--path_to_save − Путь для сохранения нового тома

-sh/--shahash − Хэш файла для для получения с бэкапа

-fn/--filename − Имя файла для для получения с бэкапа

-ufn/--unique_filename − Уникальное имя файла (используется для получение файла с бэкапа)

-ext/--extention − Расширение файла для поика в бэкапе

-exp/--expression – Регулярное выражение для поика в бэкапе

-del/--deleted − Поик всех удаленных файлов

-o/--open − Авто открытие виртуального диска после создания/обновления

-a/--anonymous − Не делать запись в каталог об пути к тому


**Команды для создания нового тома:**

-cv/--create_volume − Создание нового тома для бэкапа

-f/--filesystem − Файловая система тома

-en/--encryption − Шифрование тома AES, Serpent, Twofish, Camellia, Kuznyechik и прочие которые поддерживает Veracrypt

-s/--size − Размер тома (МБ)

<hr>

**Создание тома Veracrypt:**

Создание тома с именем NEW_VOLUME и паролем 12345678901234567890abcdef по пути "C:\ " с файловой системой NTFS, шифрованием Twofish и размером 1024 МБ:

```--create_volume -n NEW_VOLUME -f NTFS -en Twofish -s 1024 -d "C:\ " -p 12345678901234567890abcdef```

<hr>

**Создание бэкапа:**

Создание бэкапа директории "С:\Python" с именем NEW_BACKUP, сохранить его в том "C:\ Python.hc" с паролем 12345678901234567890abcdef и открыть виртуальный диск после создания бэкапа для просмотра содержимого:

```--create -n NEW_BACKUP -d "С:\Python" -p 12345678901234567890abcdef -v "C:\ Python.hc" –o```


**Опционально можно указывать:**

-b/--blacklist "C:\blacklist.txt"

-acv/--auto_create_volume_by − Авто создание тома для бэкапа

-cl/--compression_level − Уровень сжатия данных

0 - без сжатия,

1 - BZIP2,

2 – LZMA (по умолчанию 0)

-rl/--recursion_level - уровень глубины рекурсии для анализа одиночных файлов. При анализе архивируемой папки превышающие уровень рекурсии добавляется в архив целиком и потом обновляются также целиком, что в сою очередь произведёт к увеличению времени архивирования или обновления бэкапа.

<hr>

**Обновление бэкапа:**

Обновление бэкапа с указанием пути к тому:

```--update -v "C:\ NEW_VOLUME.hc" –p 12345678901234567890abcdef```

Или по имени бэкапа (если при его создании не был указан флаг -a/—anonymous)

```--update –n NEW_BACKUP –p 12345678901234567890abcdef```

**Опционально можно указывать:**

-b/--blacklist "C:\blacklist.txt" - перезапишет файл черного списка

-rl/--recursion_level - обновляет уровень рекурсии

<hr>

**Поиск файлов в бэкапе:**

Можно осуществлять поиск файлов в бэкапе по их хэшу (поиск копий файлов), по расширению, по регулярному выражению, а также с помощью флажка –deleted/-del. Также можно искать файлы, которые когда-то были удалены с архивируемой папки, но остались в бэкапе.

Поиск файла по его sha256 хэшу:

```--search -sh 56D128F5CA8BA232D30A6B1DA11F1B5776A9B189C95AFDD7696E1C522A1A140D –v "C:\ NEW_VOLUME.hc" -p 12345678901234567890abcdef```

Поиск файла по уникальному имени в бэкапа:

```--search -ufn 33cf6a279de66af3ba325e630bbfb70dcdd5884641510962b1747828e16c5f35 -v "C:\ NEW_VOLUME.hc" -p 12345678901234567890abcdef```

Поиск файлов по расширению (можно указывать без точки):

```--search –ext .txt -v "C:\ NEW_VOLUME.hc" -p 12345678901234567890abcdef```

Поиск файлов по регулярному выражению:

```--search –exp <rer_exp> -v "C:\ NEW_VOLUME.hc" -p 12345678901234567890abcdef```

Поиск удаленных файлов:

```--search –del -v "C:\ NEW_VOLUME.hc" -p 12345678901234567890abcdef```

Если указать аргумент -to/--path_to_save результаты поиска будут перенаправлены в файл. Также указав аргумент -ve/--verbosity после строки с информацией о файле будет выводиться дополнительная строка с примером для команды для его получения с бэкапа

**Получение файлов с бэкапа:**

По имени файла:

```--get –n filename.txt -to "C:\Extract" -v "C:\ NEW_VOLUME.hc" -p 12345678901234567890abcdef```

По уникальному имени файла в бэкапе (можно узнать при поиске файла):

```--get -ufn 33cf6a279de66af3ba325e630bbfb70dcdd5884641510962b1747828e16c5f35 -to "C:\Extract" -v "C:\ NEW_VOLUME.hc" -p 12345678901234567890abcdef```

По sah256 хэшу файла:

```--get -sh 56D128F5CA8BA232D30A6B1DA11F1B5776A9B189C95AFDD7696E1C522A1A140D -to "C:\Extract" -v "C:\ NEW_VOLUME.hc" -p 12345678901234567890abcdef```

**Распаковка бэкапа:**

Распаковка бэкапа с именем NEW_BACKUP и паролем 1234 в папку "С:\Extracted"

```--extract --name NEW_BACKUP -to "С:\Extracted" -p 12345678901234567890abcdef```

<hr>

**Удаление бэкапа:**

Удаление бэкапа –v/--volume:

```--remove --volume "C:\NEW_VOLUME.hc"```

Или по его имени -n/--name:

```--remove --name NEW_BACKUP```

<hr>

**Размонтирование виртуально диска:**

Размонтирование виртуально диска c указанием буквы диска:

```--dismount -vd V```

<hr>

**Очистка бэкапа:**

Очистку от мусора (файлов, которых после обновления бэкапа нет в архивируемой папке, но они остались в архиве) нужно осуществлять вручную командой:

```--clearn -v "C:\NEW_VOLUME.hc " -p 12345678901234567890abcdef```

<hr>

